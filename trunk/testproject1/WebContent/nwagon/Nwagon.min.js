var CONST_SVG_URL="http://www.w3.org/2000/svg";var VML_NAME_SPACE="urn:schemas-microsoft-com:vml";var CONST_MAX_RADIUS=100;var CONST_DECREMENT=20;var Nwagon={chart:function(c){var b=false;if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=new Number(RegExp.$1);if(a<=8){b=true;document.namespaces.add("v",VML_NAME_SPACE)}}var d=new Object();d.chartType=c["chartType"];d.dataset=c["dataset"];d.legend=c["legend"];d.width=c["chartSize"]["width"];d.height=c["chartSize"]["height"];d.chart_div=c["chartDiv"];switch(d.chartType){case ("radar"):b?Nwagon_ie.radar.drawRadarChart(d):this.radar.drawRadarChart(d);break;case ("polar"):case ("polar_pie"):d.core_circle_radius=c["core_circle_radius"];d.core_circle_value=c["core_circle_value"];d.max=c["maxValue"];d.increment=c["increment"];b?Nwagon_ie.polar.drawPolarChart(d):this.polar.drawPolarChart(d);break;case ("donut"):case ("pie"):d.core_circle_radius=0;if(d.chartType=="donut"){d.core_circle_radius=c["core_circle_radius"]}d.donut_width=c["donut_width"];b?Nwagon_ie.donut.drawDonutChart(d):this.donut.drawDonutChart(d);break;case ("line"):case ("area"):case ("jira"):if(c.hasOwnProperty("bottomOffsetValue")){d.bottomOffsetValue=c["bottomOffsetValue"]}if(c.hasOwnProperty("leftOffsetValue")){d.leftOffsetValue=c["leftOffsetValue"]}if(c["maxValue"]){d.highest=c["maxValue"]}if(c["minValue"]){d.lowest=c["minValue"]}if(c["increment"]){d.increment=c["increment"]}b?Nwagon_ie.line.drawLineChart(d):this.line.drawLineChart(d);break;case ("column"):case ("stacked_column"):case ("multi_column"):if(c.hasOwnProperty("bottomOffsetValue")){d.bottomOffsetValue=c["bottomOffsetValue"]}if(c.hasOwnProperty("leftOffsetValue")){d.leftOffsetValue=c["leftOffsetValue"]}if(c.hasOwnProperty("topOffsetValue")){d.topOffsetValue=c["topOffsetValue"]}if(c.hasOwnProperty("rightOffsetValue")){d.rightOffsetValue=c["rightOffsetValue"]}if(c["maxValue"]){d.highest=c["maxValue"]}if(c["increment"]){d.increment=c["increment"]}b?Nwagon_ie.column.drawColumnChart(d):this.column.drawColumnChart(d);break}},createChartArea:function(h,f,i,a,g){var c=document.getElementById(h);var b=document.createElement("ul");b.className="accessibility";c.appendChild(b);var e={"version":"1.1","width":a,"height":g,"viewBox":i,"class":"Nwagon_"+f,"aria-hidden":"true"};var d=Nwagon.createSvgElem("svg",e);c.appendChild(d);return d},createSvgElem:function(c,a){var b=document.createElementNS(CONST_SVG_URL,c);Nwagon.setAttributes(b,a);return b},setAttributes:function(e,b){var d=Object.keys(b);var a=d.length;for(var c=0;c<a;c++){e.setAttribute(d[c],b[d[c]])}},getMax:function(b){var f=0;if(b.length){for(var d=0;d<b.length;d++){var e=b[d];if(e.length){for(var c=0;c<e.length;c++){if(typeof(e[c])=="number"&&e[c]>f){f=e[c]}}}else{if(typeof(b[d])=="number"&&b[d]>f){f=b[d]}}}}return f},createTooltip:function(){var c=Nwagon.createSvgElem("g",{"class":"tooltip"});var b=Nwagon.createSvgElem("rect",{});c.appendChild(b);var a=Nwagon.createSvgElem("text",{});c.appendChild(a);return c},showToolTip:function(g,d,c,f,a,b,e){return function(){g.style.cssText="display: block";var i=g.getElementsByTagName("text")[0];i.textContent=" "+f;Nwagon.setAttributes(i,{"x":d,"y":c-b,"text-anchor":"middle"});var h=i.getBBox().width;Nwagon.setAttributes(g.getElementsByTagName("rect")[0],{"x":(d-h/2)-5,"y":c-e,"width":h+10,"height":a})}},hideToolTip:function(a){return function(){a.style.cssText="display: none"}},getAngles:function(a,e){var c=0;for(var b=0;b<a.length;b++){c+=a[b]}for(b=0;b<a.length;b++){var d=360*(a[b]/c);e["angles"].push(d);e["percent"].push(a[b]/c);e["values"].push(a[b])}return e},getOpacity:function(b,e,d){var a=b.length;var c=d/a;var f=Math.ceil(e/c);return b[f-1]},line:{points:[],drawLabels:function(a,e,c){var b={"x":a,"y":e,"text-anchor":"end"};var d=Nwagon.createSvgElem("text",b);d.textContent=c;return d},drawLineChart:function(g){var j=g.chartType;var f=false,l=false;var b=g.width,n=g.height;var m=g.dataset["values"];var a=g.hasOwnProperty("leftOffsetValue")?g.leftOffsetValue:50;var c=g.hasOwnProperty("bottomOffsetValue")?g.bottomOffsetValue:80;var e=g.hasOwnProperty("topOffsetValue")?g.topOffsetValue:0;var i=g.hasOwnProperty("rightOffsetValue")?g.rightOffsetValue:0;i=g.dataset["fields"]?(150+i):i;var o=(-a)+" "+(c-n)+" "+b+" "+n;var h=Nwagon.createChartArea(g.chart_div,g.chartType,o,b,n);var k=g.highest?g.highest:Nwagon.getMax(m);var d=g.lowest?g.lowest:0;this.drawBackground(h,g.legend["names"].length,g.dataset,g.increment,k,d,b-a-i,n-c-e);f=(j=="area");l=(j=="jira");this.drawLineForeground(g.chart_div,h,g.legend,g.dataset,g.increment,k,d,b-a-i,n-c-e,f,l)},drawJiraForeground:function(w,l){var s=function(G,F){var E={};var i;if((F[1]==G[1])){i=0}else{i=(F[1]-G[1])/(F[0]-G[0])}E["alpha"]=G[1]-(i*G[0]);E["slope"]=i;return E};var k=function(M,L){if(M&&L){var G,J,E,P,N;var O="";var I=0;while(I<M.length){if(M[I][1]>L[I][1]){J=M;E=L;G=l[0];break}if(M[I][1]<L[I][1]){J=L;E=M;G=l[1];break}I++}var H=0;while(H<J.length){P=J[H][0];N=J[H][1];if(H===0){O+="M "+P+" -"+N}else{O+=" L "+P+" -"+N}H++}var F=E.length-1;while(F>=0){P=E[F][0];N=E[F][1];O+=" L "+P+" -"+N;F--}O+=" Z";var K=Nwagon.createSvgElem("path",{"d":O,"fill":G,"opacity":"0.7"});B.appendChild(K)}};var a=document.querySelectorAll(".Nwagon_jira g.foreground");var b=a[a.length-1];var B=Nwagon.createSvgElem("g",{"class":"polygon"});b.appendChild(B);var j=[];if(w.length==2){var m=l[0];var d=l[1];var u=w[0];var f=w[1];var v=[],h=[];if(u.length===f.length){var e=u.length;for(var x=0;x<e;x++){v.push(u[x]);h.push(f[x]);if((u[x][1]>f[x][1])){j.push(f[x])}else{j.push(u[x])}if(x!==e-1){if(!((u[x][1]>f[x][1])&&(u[x+1][1]>f[x+1][1]))&&!((u[x][1]<f[x][1])&&(u[x+1][1]<f[x+1][1]))&&!((u[x][1]==f[x][1])||(u[x+1][1]==f[x+1][1]))){var A=[];var z=s(u[x],u[x+1]);var y=s(f[x],f[x+1]);var q=z["slope"];var p=y["slope"];var t=z["alpha"];var r=y["alpha"];var o=(r-t)/(q-p);var n=(o*q)+t;A.push(o);A.push(n);j.push(A);v.push(A);v.push(A);h.push(A);h.push(A)}}}}}if(j.length){var D="";for(var x=0;x<j.length;x++){var o=j[x][0];var n=j[x][1];if(x===0){D+="M "+o+" -"+n}else{D+=" L "+o+" -"+n}}D+=" L "+j[j.length-1][0]+" -"+0+" L 0 0 Z";var c=Nwagon.createSvgElem("path",{"d":D,"class":"layered"});B.appendChild(c)}if(v.length===h.length){var x=0;while(x<v.length){if((v[x][1]==h[x][1])&&(x!=0)||(x==v.length-1)){var g=v.splice(x+1);var C=h.splice(x+1);k(v,h);v=g;h=C;x=0}x++}}},draw_vertex_and_tooltip:function(a,e){var f=Nwagon.createSvgElem("g",{"class":"circles"});a.appendChild(f);var d=Nwagon.createTooltip();a.appendChild(d);for(var b=0;b<e.length;b++){var c=Nwagon.createSvgElem("circle",e[b]["attributes"]);f.appendChild(c);c.onmouseover=Nwagon.showToolTip(d,e[b]["tooltip_x"],e[b]["tooltip_y"],e[b]["text"],14,7,18);c.onmouseout=Nwagon.hideToolTip(d)}},drawLineForeground:function(N,M,I,P,F,s,U,a,c,p,D){var n=I["names"].length;var t=(a/n).toFixed(3);var y=(Math.ceil((s-U)/F)+1)*F;var g="",r="",w="";var S=I["names"];var T=P["values"];var L=P["colorset"];var b=P["fields"];var K=[];var l=[];var B=Nwagon.createSvgElem("g",{"class":"foreground"});M.appendChild(B);var A=Nwagon.createSvgElem("g",{"class":"lines"});B.appendChild(A);var m=Nwagon.createSvgElem("g",{"class":"labels"});B.appendChild(m);r=(3/5*t);if(T[0]){for(var O=0;O<T[0].length;O++){var C=document.getElementById(N).getElementsByTagName("ul")[0];if(C){var q=document.createElement("li");q.innerHTML=b[O];var z=document.createElement("ul");q.appendChild(z);C.appendChild(q)}var J=0;var d="";var E=[];var u=0;for(var Q=0;Q<T.length;Q++){var R={};var f=[];g=t*Q;var e=((T[Q][O]-U)/y)*c;if(isNaN(e)){u++}else{if(Q===u){d+="M "+g+" -"+e;J=e}else{d+=" L "+g+" -"+e}f.push(g);f.push(e);E.push(f);var H={"cx":g,"cy":"-"+e,"r":2,"stroke":L[O],"fill":L[O]};var G=S[Q]+"("+b[O]+"): "+T[Q][O].toString();R["attributes"]=H;R["text"]=G;R["tooltip_x"]=g+r/2;R["tooltip_y"]=-e;K.push(R);if(z){var x=document.createElement("li");x.innerHTML="Label "+S[Q]+",  Value "+T[Q][O].toString();z.appendChild(x)}}if(O===0){var v=Nwagon.line.drawLabels(g+r/2,15,S[Q],false,0);m.appendChild(v)}}var j=Nwagon.createSvgElem("path",{"d":d,"fill":"none","stroke":L[O]});if(p){var h=d+" L "+g+" "+0+" L "+0+" "+0+" L "+0+" -"+J+" Z";var o=Nwagon.createSvgElem("path",{"d":h,"fill":L[O],"opacity":"0.8"});A.appendChild(o)}A.appendChild(j);l.push(E)}}if(D){Nwagon.line.drawJiraForeground(l,L)}Nwagon.line.draw_vertex_and_tooltip(B,K)},drawBackground:function(c,l,g,w,t,r,q,o){var x=(q/l).toFixed(3);var f={};var n="",k=1;var v=Nwagon.createSvgElem("g",{"class":"background"});c.appendChild(v);var j=Math.ceil((t-r)/w);var a=o/(j+1);f={"x1":"0","y1":"0","x2":"0","y2":-o+(a/2),"class":"v"};var h=Nwagon.createSvgElem("line",f);v.appendChild(h);for(var u=0;u<l;u++){n=u*x;f={"x1":n,"y1":4,"x2":n,"y2":-1,"class":"v"};h=Nwagon.createSvgElem("line",f);v.appendChild(h)}var d=0;for(u=0;u<=j;u++){var s=(u===0)?"h":"h_dash";f={"x1":"-3","y1":"-"+u*a,"x2":(l*x).toString(),"y2":"-"+u*a,"class":s};h=Nwagon.createSvgElem("line",f);v.appendChild(h);f={"x":"-15","y":-((d*a)-3),"text-anchor":"end"};var m=Nwagon.createSvgElem("text",f);m.textContent=((d*w)+r).toString();v.appendChild(m);d++}if(g["fields"]){var p=Nwagon.createSvgElem("g",{"class":"fields"});v.appendChild(p);var e=g["fields"].length;for(u=0;u<e;u++){n=q+20;py=(30*u)-o+a;f={"x":n,"y":py,"width":20,"height":15,"fill":g["colorset"][u]};var b=Nwagon.createSvgElem("rect",f);p.appendChild(b);f={"x":n+30,"y":py+7,"alignment-baseline":"central"};var y=Nwagon.createSvgElem("text",f);y.textContent=g["fields"][u];p.appendChild(y)}}}},column:{drawColumnChart:function(e){var b=e.width,j=e.height;var i=e.dataset["values"];var a=e.hasOwnProperty("leftOffsetValue")?e.leftOffsetValue:50;var c=e.hasOwnProperty("bottomOffsetValue")?e.bottomOffsetValue:80;var d=e.hasOwnProperty("topOffsetValue")?e.topOffsetValue:0;var g=e.hasOwnProperty("rightOffsetValue")?e.rightOffsetValue:0;g=e.dataset["fields"]?(150+g):g;var k=(-a)+" "+(c-j)+" "+b+" "+j;var f=Nwagon.createChartArea(e.chart_div,e.chartType,k,b,j);var h=e.highest?e.highest:Nwagon.getMax(i);this.drawBackground(f,e.legend["names"].length,e.dataset,e.increment,h,b-a-g,j-c-d);this.drawColumnForeground(e.chart_div,f,e.legend,e.dataset,e.increment,h,b-a-g,j-c-d,e.chartType)},drawColumn:function(d,c,a){var b=Nwagon.createSvgElem("rect",{"x":"0","y":-a,"width":c,"height":a});d.appendChild(b);return b},drawLabels:function(a,e,c){var b={"x":a,"y":e,"text-anchor":"end","transform":"rotate(315,"+a+","+e+")"};var d=Nwagon.createSvgElem("text",b);d.textContent=c;return d},getColorSetforSingleColumnChart:function(a,d,g){var f=g.length;var c=a/f;var b=[];for(var e=0;e<d.length;e++){var h=Math.floor(d[e]/c);if(h==f){h--}b.push(g[h])}return b},drawColumnForeground:function(F,D,A,H,z,m,a,e,n){var J=A["names"];var j=J.length;var o=(a/j).toFixed(3);var v=(Math.ceil(m/z)+1)*z;var f="",l="",r="";var K=H["values"];var b=H["title"];var c=H["fields"];var x=Nwagon.createSvgElem("g",{"class":"foreground"});D.appendChild(x);var h=Nwagon.createSvgElem("g",{"class":"columns"});x.appendChild(h);var g=Nwagon.createSvgElem("g",{"class":"labels"});x.appendChild(g);var w=Nwagon.createTooltip();x.appendChild(w);var B=function(N,k,T,O,Q,i,R){var P=Nwagon.createSvgElem("g",{});N.appendChild(P);var M=Nwagon.column.drawColumn(P,l,k);Nwagon.setAttributes(M,{"x":T,"style":"fill:"+O});if(i){var S=R-M.getBBox().y;if(S>0){Nwagon.setAttributes(M,{"y":-S})}k=S}M.onmouseover=Nwagon.showToolTip(w,T+l/2,-k,Q,14,7,18);M.onmouseout=Nwagon.hideToolTip(w);M=null};var E=function(S){var P=document.getElementById(F).getElementsByTagName("ul")[0];if(P){for(var O in S){if(S.hasOwnProperty(O)){var i=document.createElement("li");i.innerHTML=O;var R=document.createElement("ul");i.appendChild(R);P.appendChild(i);var Q=S[O];for(var N=0;N<Q.length;N++){var M=document.createElement("li");M.innerHTML=Q[N];R.appendChild(M)}}}}};if(n=="column"){var y=document.getElementById(F).getElementsByTagName("ul")[0];if(y){y.innerHTML=b}l=(3/5*o);var C=Nwagon.column.getColorSetforSingleColumnChart(m,K,H["colorset"]);for(var u=0;u<K.length;u++){f=(o*(u+0.2));r=K[u]/v*e;B(h,r,f,C[u],K[u]);var p=Nwagon.column.drawLabels(f+l/2,15,J[u],false,0);g.appendChild(p);var s=document.createElement("li");s.innerHTML="Label "+J[u]+", Value  "+K[u];if(y){y.appendChild(s)}}}else{if(n=="multi_column"){var C=H["colorset"];l=(3/5*o)/C.length;var q={};for(var G=0;G<c.length;G++){q[c[G]]=[]}for(var I=0;I<K.length;I++){var d=K[I];f=(o*(I+0.2));for(var u=0;u<d.length;u++){var t=f+(u*(l));r=d[u]/v*e;B(h,r,t,C[u],d[u],false,0);q[c[u]].push("Label "+J[I]+", Value  "+d[u])}var p=Nwagon.column.drawLabels(f+l/2,15,J[I]);g.appendChild(p)}E(q)}else{if(n=="stacked_column"){l=(3/5*o);var C=H["colorset"];var q={};for(var G=0;G<c.length;G++){q[c[G]]=[]}for(var I=0;I<K.length;I++){var d=K[I];var L=0;for(var u=0;u<d.length;u++){f=(o*(I+0.2));r=d[u]/v*e;B(h,r,f,C[u],d[u],true,L);q[c[u]].push("Label "+J[I]+", Value  "+d[u]);L+=r}var p=Nwagon.column.drawLabels(f+l/2,15,J[I]);g.appendChild(p)}E(q)}}}},drawBackground:function(b,k,f,t,q,p,n){var u=(p/k).toFixed(3);var e={};var m="",j=1;var s=Nwagon.createSvgElem("g",{"class":"background"});b.appendChild(s);var h=Math.ceil(q/t);rowHeight=n/(h+1);for(var r=0;r<=k;r++){m=(r*u).toString();e={"x1":m,"y1":"0","x2":m,"y2":rowHeight-n,"class":"v"};var g=Nwagon.createSvgElem("line",e);s.appendChild(g)}var c=0;for(var r=0;r<=h;r++){e={"x1":"0","y1":"-"+r*rowHeight,"x2":(k*u).toString(),"y2":"-"+r*rowHeight,"class":"h"};var g=Nwagon.createSvgElem("line",e);s.appendChild(g);e={"x":"-15","y":-((c*rowHeight)-3),"text-anchor":"end"};var l=Nwagon.createSvgElem("text",e);l.textContent=(c*t).toString();s.appendChild(l);c++}if(f["fields"]){var o=Nwagon.createSvgElem("g",{"class":"fields"});s.appendChild(o);var d=f["fields"].length;for(var r=0;r<d;r++){m=p+20;py=(30*r)-n+rowHeight;e={"x":m,"y":py,"width":20,"height":15,"fill":f["colorset"][r]};var a=Nwagon.createSvgElem("rect",e);o.appendChild(a);e={"x":m+25,"y":py+7,"alignment-baseline":"central"};var v=Nwagon.createSvgElem("text",e);v.textContent=f["fields"][r];o.appendChild(v)}}}},donut:{drawDonutChart:function(f){var e=f.width,a=f.height;var c="-"+e/3+" -"+a/2+" "+e+" "+a;var b=Nwagon.createChartArea(f.chart_div,f.chartType,c,e,a);var g={"angles":[],"percent":[],"values":[]};var d=f.dataset["values"];if(d){g=Nwagon.getAngles(d,g)}this.drawDonut(f.chart_div,g,f.chartType,b,f.dataset,f.core_circle_radius,f.donut_width);if(f.core_circle_radius==0){this.drawField(f.dataset["fields"],f.dataset["colorset"],b,f.donut_width/2)}else{this.drawField(f.dataset["fields"],f.dataset["colorset"],b,f.donut_width)}},drawDonut:function(l,y,w,c,I,G,k){var f=k+G;var s=document.getElementById(l).getElementsByTagName("ul")[0];var q=function(K){if(s){var j=document.createElement("li");j.innerHTML=K;s.appendChild(j)}};var a=Nwagon.createSvgElem("g",{"class":"foreground"});c.appendChild(a);var F=Nwagon.createSvgElem("g",{"class":"donuts"});a.appendChild(F);var g=Nwagon.createTooltip();a.appendChild(g);var o=I["colorset"];var e=y["angles"].length;var d=0,b=0;var H="",r="";var t=I["fields"];var n=0;var E=angle_in_int=angle_in_int_accumulate=0;for(var A=0;A<e;A++){var v;if(y["percent"][A]<1){E=(Math.PI*2)*y["percent"][A];angle_in_int=y["angles"][A];if(A>0){angle_in_int_accumulate+=y["angles"][A-1]}if(G>0){if(E){d=(f)*Math.sin(E);b=E?-(f*Math.sin(E)/Math.tan(E)):0;var D=G*Math.sin(E);var C=E?-(G*Math.sin(E)/Math.tan(E)):0;if(E>Math.PI){H="M0 "+-G+" L0 "+"-"+f+" A "+f+" "+f+" 0 1 1 "+d+" "+b+" L "+D+" "+C;H+=" A "+G+" "+G+" 0 1 0 0 "+-G+" Z"}else{H="M0 "+-G+" L0 "+"-"+f+" A "+f+" "+f+" 0 0 1 "+d+" "+b+" L "+D+" "+C;H+=" A "+G+" "+G+" 0 0 0 0 "+-G+" Z"}}else{H="M0 0 L 0 0 Z"}}else{if(E){d=f*Math.sin(E);b=E?-(f*Math.sin(E)/Math.tan(E)):0;if(E>Math.PI){H="M0 0 L0 "+"-"+f+" A "+f+" "+f+" 0 1 1 "+d+" "+b+" L0 0 Z"}else{H="M0 0 L0 "+"-"+f+" A "+f+" "+f+" 0 0 1 "+d+" "+b+" L0 0 Z"}}else{H="M0 0 L 0 0 Z"}}v=Nwagon.createSvgElem("path",{"class":"sector","d":H,"fill":o[A]});F.appendChild(v)}else{var m={"cx":0,"cy":0,"r":f,"stroke":"transparent","fill":o[A]};v=Nwagon.createSvgElem("circle",m);F.appendChild(v);if(G>0){var p={"cx":0,"cy":0,"r":G,"stroke":"transparent","fill-opacity":1,"fill":"white"};var h=Nwagon.createSvgElem("circle",p);F.appendChild(h)}}if(y["angles"].length){n=angle_in_int_accumulate}else{n=(angle_in_int*A)}var u=document.querySelectorAll(".Nwagon_"+w+" .foreground .sector");var x=u[u.length-1];x.setAttribute("transform","rotate("+n+")");var J=(Math.PI*(n-90))/180;var z=f*Math.sin(J);var B=f*Math.cos(J);var i=y["values"][A].toFixed(0);r=t[A]?(t[A]+"("+(y["percent"][A]*100).toFixed(1)+"%) "+i):"undefiend";v.onmouseover=Nwagon.showToolTip(g,B,z,r,14,7,18);v.onmouseout=Nwagon.hideToolTip(g);q(r)}},drawField:function(d,j,k,b){if(d.length){var g=Nwagon.createSvgElem("g",{"class":"fields"});k.appendChild(g);var e={};var c=d.length;for(var f=0;f<c;f++){px=b*4;py=(30*f)-70;e={"x":px,"y":py,"width":20,"height":15,"fill":j[f]};var h=Nwagon.createSvgElem("rect",e);g.appendChild(h);e={"x":px+25,"y":py+10,"alignment-baseline":"central"};var a=Nwagon.createSvgElem("text",e);a.textContent=d[f];g.appendChild(a)}}}},polar:{drawPolarChart:function(c){var b=80;var f=c.dataset["fields"]?150:0;var a=c.width,h=c.height;var i="-"+a/2+" -"+h/2+" "+a+" "+h;var d=Nwagon.createChartArea(c.chart_div,c.chartType,i,a,h);var g={"angles":[],"percent":[],"values":[]};if(c.chartType=="polar_pie"){var e=c.dataset["degree_values"];if(e){g=Nwagon.getAngles(e,g)}}if(d&&c.legend["names"]&&c.dataset){this.drawBackground(d,g["angles"],c.chartType,c.legend["names"],c.dataset,c.increment,c.max,c.core_circle_radius,(a/2)-f,(h/2)-b);this.drawLabels(d,g,c.legend,CONST_MAX_RADIUS,c.core_circle_radius);if(c.core_circle_radius>0&&c.core_circle_value){this.drawCoreCircleValue(d,c.core_circle_value,c.core_circle_radius)}this.drawForeground(c.chart_div,g,c.chartType,d,c.legend,c.dataset,c.core_circle_radius,c.max)}this.drawCoordinates(d,c.increment,c.max,c.core_circle_radius)},drawCoordinates:function(l,b,e,a){var f=Nwagon.createSvgElem("g",{"class":"xAxis"});var d=e,h=0,j=0;while(d>0){j=h+","+-(d+a);var c={"points":j,"x":h,"y":-(d+a),"text-anchor":"middle"};var k=Nwagon.createSvgElem("text",c);k.textContent=d.toString();f.appendChild(k);d-=b}l.appendChild(f)},drawCoreCircleValue:function(d,f,e){var b=Nwagon.createSvgElem("g",{"class":"core"});d.appendChild(b);var c={"x":"0","y":e/4,"text-anchor":"middle","class":"core_text"};var a=Nwagon.createSvgElem("text",c);a.textContent=f;b.appendChild(a)},drawLabels:function(b,n,a,d,q){var v=Nwagon.createSvgElem("g",{"class":"labels"});b.appendChild(v);var l=a.names;var c=l.length;var t=angle_accumulate=0;for(var r=0;r<c;r++){if(n["percent"].length){t=(Math.PI*2)*n["percent"][r];if(r>0){angle_accumulate+=(Math.PI*2)*n["percent"][r-1]}}else{t=(Math.PI*2)/c;angle_accumulate=t*r}var m=l[r];if(m){var e=m.length;for(var o=0;o<e;o++){var u=t/e;var s=angle_accumulate+(u*o)+u/2;var g=-(d+q+12)*Math.cos(s);var h=(d+q+12)*Math.sin(s);var p=(h<0)?"end":"start";if(h<1&&h>-1){p="middle"}var f={"x":h,"y":g,"text-anchor":p,"class":"chart_label"};var j=Nwagon.createSvgElem("text",f);j.textContent=m[o];v.appendChild(j)}}}},drawForeground:function(J,p,q,H,B,Q,A,m){var y=document.getElementById(J).getElementsByTagName("ul")[0];var o=function(k){if(y){var j=document.createElement("li");j.innerHTML=k;y.appendChild(j)}};var w=Nwagon.createSvgElem("g",{"class":"foreground"});H.appendChild(w);var s=Nwagon.createSvgElem("g",{"class":"pies"});w.appendChild(s);var v=Nwagon.createTooltip();w.appendChild(v);var E=Q["colorset"];var z=Q["values"];var P=Q["opacity"];var h=z.length;var l=0,i=0;var b="",r="";var O=B.names;var a=0;var g=angle_in_int=angle_in_int_accumulate=0;if(h){for(var L=0;L<h;L++){if(p["angles"].length){g=(Math.PI*2)*p["percent"][L];angle_in_int=p["angles"][L];if(L>0){angle_in_int_accumulate+=p["angles"][L-1]}}else{g=(Math.PI*2)/h;angle_in_int=360/h}var I=z[L];var e=I.length;for(var K=0;K<e;K++){var F=I[K];var M=0.8;if(P.length){M=Nwagon.getOpacity(P,F,m)}var D=g/e;var C=angle_in_int/e;if(A>0){F=F+A;l=(F)*Math.sin(D);i=-(F*Math.sin(D)/Math.tan(D));var x=A*Math.sin(D);var u=-(A*Math.sin(D)/Math.tan(D));if(D>Math.PI){b="M0 "+-A+" L0 "+"-"+F+" A "+F+" "+F+" 0 1 1 "+l+" "+i+" L "+x+" "+u;b+=" A "+A+" "+A+" 0 1 0 0 "+-A+" Z"}else{b="M0 "+-A+" L0 "+"-"+F+" A "+F+" "+F+" 0 0 1 "+l+" "+i+" L "+x+" "+u;b+=" A "+A+" "+A+" 0 0 0 0 "+-A+" Z"}}else{l=F*Math.sin(D);i=-(F*Math.sin(D)/Math.tan(D));b="M0 0 L0 "+"-"+F+" A "+F+" "+F+" 0 0 1 "+l+" "+i+" L0 0 Z"}var G=Nwagon.createSvgElem("path",{"class":"sector","d":b,"fill":E[L],"opacity":M});s.appendChild(G);if(p["angles"].length){a=angle_in_int_accumulate+(C*K)}else{a=(angle_in_int*L)+(C*K)}var t=document.querySelectorAll(".Nwagon_"+q+" .foreground .sector");var n=t[t.length-1];n.setAttribute("transform","rotate("+a+")");var f=(Math.PI*(a-90))/180;var c=(A+m)*Math.sin(f);var d=(A+m)*Math.cos(f);if(p["values"].length){var N=p["values"][L].toFixed(0);r=O[L][K]?(O[L][K]+" ("+N+"), Value: "+(F-A).toFixed(1)):"undefiend"}else{r=O[L][K]?(O[L][K]+", Value: "+(F-A).toFixed(1)):"undefiend"}G.onmouseover=Nwagon.showToolTip(v,d,c,r,14,7,18);G.onmouseout=Nwagon.hideToolTip(v);o(r)}}}},drawBackground:function(f,w,u,c,E,p,h,y,t,q){var B=Nwagon.createSvgElem("g",{"class":"background"});f.appendChild(B);var F=E["values"];if(F.length){var C=360/F.length;var l=function(i){var j="M0 "+i+"A "+i+" "+i+" 0 0 0 0"+" -"+i;var k=Nwagon.createSvgElem("path",{"d":j});B.appendChild(k);j="M0 "+i+"A "+i+" "+i+" 0 0 1 0"+" -"+i;k=Nwagon.createSvgElem("path",{"d":j});B.appendChild(k)};if(y>0){l(y)}var g=h+y;while(g>y){l(g);g-=p}var A=0;for(var x=0;x<F.length;x++){if(w.length){A+=w[x]}else{A=C*x}var o={"x1":"0","y1":-y,"x2":"0","y2":-(h+y),"class":"v"};var s=Nwagon.createSvgElem("line",o);B.appendChild(s);s.setAttribute("transform","rotate("+A+")");var D=F[x];if(D){var m=D.length;for(var v=1;v<m;v++){var b=A+(C/m*v);s=Nwagon.createSvgElem("line",o);B.appendChild(s);s.setAttribute("transform","rotate("+b+")")}}}}var d=E["fields"];var a=E["colorset"];if(d.length){var r=Nwagon.createSvgElem("g",{"class":"fields"});B.appendChild(r);var n=d.length;for(var z=0;z<n;z++){px=t+20;py=(30*z)-q;o={"x":px,"y":py,"width":20,"height":15,"fill":a[z]};var e=Nwagon.createSvgElem("rect",o);r.appendChild(e);o={"x":px+25,"y":py+10,"alignment-baseline":"central"};var G=Nwagon.createSvgElem("text",o);G.textContent=d[z];r.appendChild(G)}}}},radar:{drawRadarChart:function(e){var d=e.width,a=e.height;var c="-"+d/2+" -"+a/2+" "+d+" "+a;var b=Nwagon.createChartArea(e.chart_div,e.chartType,c,d,a);this.drawBackground(b,e.legend["names"].length,e.dataset["bgColor"],CONST_DECREMENT,CONST_MAX_RADIUS);this.drawLabels(b,e.legend,CONST_MAX_RADIUS);this.drawCoordinates(b,CONST_DECREMENT,CONST_MAX_RADIUS);this.drawPolygonForeground(e.chart_div,b,e.legend,e.dataset)},drawCoordinates:function(k,a,d){var e=Nwagon.createSvgElem("g",{"class":"xAxis"});var c=d,f=0,h=0;while(c>0){h=c+","+f;var b={"points":h,"x":c,"y":f,"text-anchor":"middle"};var j=Nwagon.createSvgElem("text",b);j.textContent=c.toString();e.appendChild(j);c-=a}k.appendChild(e)},drawLabels:function(n,l,e){var c=Nwagon.createSvgElem("g",{"class":"labels"});var h=l["hrefs"],i=l["names"];var d=i.length;var b={};for(var f=0;f<i.length;f++){var a=(Math.PI*2)/d;var k=0+(e+12)*Math.cos(((Math.PI*2)/d)*(f));var j=0+(e+12)*Math.sin(((Math.PI*2)/d)*(f));var g=(k<0)?"end":"start";if(k<1&&k>-1){g="middle"}if(h){b={"onclick":'location.href="'+h[f]+'"',"x":k,"y":j,"text-anchor":g,"class":"chart_label"}}else{b={"x":k,"y":j,"text-anchor":g,"class":"chart_label"}}var m=Nwagon.createSvgElem("text",b);m.textContent=i[f];c.appendChild(m)}n.appendChild(c)},drawPie:function(j,g,h,c,k){var b=(Math.PI*2)/g;var o="",n="",m="";var d={},l="";var i=h;var e=Nwagon.createSvgElem("g",{"class":"pie"});while(i>0){o=i+",0";n="0,0";m=(i*Math.sin(b)/Math.tan(b))+","+(-i*Math.sin(b));if(i==h){l=o+" "+n+" "+m;var f=Nwagon.createSvgElem("polyline",{"points":l,"fill":k});e.appendChild(f)}l=o+" "+m;d={"points":l,"stroke-dasharray":"2px,2px","fill":k};var a=Nwagon.createSvgElem("polyline",d);e.appendChild(a);i-=c}j.appendChild(e);return e},drawBackground:function(k,g,i,d,h){var f=i?i:"#F9F9F9";var c=360/g;var a=Nwagon.createSvgElem("g",{"class":"background"});k.appendChild(a);for(var e=1;e<=g;e++){var b=this.drawPie(a,g,h,d,f);b.setAttribute("transform","rotate("+c*(e-1)+")")}},dimmedPie:function(f,a,e){var g=(360/e)*a;var d=this.drawPie(f,e,CONST_MAX_RADIUS,CONST_DECREMENT);d.setAttribute("transform","rotate("+g+")");var c=d.querySelectorAll("polyline");for(var b=0;b<c.length;b++){c[b].setAttribute("class","dim")}if(((a+1)%e)==0){this.drawPie(f,e,CONST_MAX_RADIUS,CONST_DECREMENT)}else{g=(360/e)*(a+1);d=this.drawPie(f,e,CONST_MAX_RADIUS,CONST_DECREMENT);d.setAttribute("transform","rotate("+g+")")}var c=d.querySelectorAll("polyline");for(var b=0;b<c.length;b++){c[b].setAttribute("class","dim")}},drawPolygonForeground:function(o,f,d,C){var a=C["values"];var D=C["title"];var e=C["fgColor"]?C["fgColor"]:"#30A1CE";var n=(a.length==1)?true:false;var v=d["names"];var t=document.getElementById(o).getElementsByTagName("ul")[0];if(t){t.innerHTML=D}for(var x=0;x<a.length;x++){if(t){var z=document.createElement("li");z.innerHTML="Data set number "+(x+1).toString();var u=document.createElement("ul");z.appendChild(u);t.appendChild(z)}var q=a[x];var h=q.length;var A=[];var B=(Math.PI/180)*(360/h);var k=0,w=0;py=0,p={};var m=[],c=[];var b=Nwagon.createSvgElem("g",{"class":"foreground"});f.appendChild(b);var r=Nwagon.createSvgElem("polyline",{"class":"polygon"});b.appendChild(r);var j={};if(n){j=Nwagon.createTooltip()}for(var l=0;l<q.length;l++){if(u){var s=document.createElement("li");s.innerHTML=v[l]+": "+q[l];u.appendChild(s)}k=q[l];pointDisplay=q[l];if(typeof(q[l])!="number"){Nwagon.radar.dimmedPie(b,l,h);k=0;pointDisplay=q[l]}w=(l==0)?k:k*Math.sin(B*l)/Math.tan(B*l);py=(l==0)?0:k*Math.sin(B*l);A.push(w+","+py);p={"cx":w,"cy":py,"r":3,"stroke-width":8,"stroke":"transparent","fill":e};var y=Nwagon.createSvgElem("circle",p);if(n){y.onmouseover=Nwagon.showToolTip(j,w,py,v[l]+" : "+pointDisplay,20,15,28);y.onmouseout=Nwagon.hideToolTip(j)}b.appendChild(y);y=null}var g=A.join(" ");var p={"points":g,"class":"polygon","fill":e,"stroke":e};Nwagon.setAttributes(r,p);if(n){b.appendChild(j)}}}}};var Nwagon_ie={setStyles:function(c,b){for(var a in b){if(b.hasOwnProperty(a)){c.style[a]=b[a]}}},setAttributes:function(c,a){for(var b in a){if(a.hasOwnProperty(b)){c.setAttribute(b,a[b])}}},createChartArea:function(h,c,b){var e=document.getElementById(h);var g=document.createElement("ul");g.className="accessibility";e.appendChild(g);var a=document.createElement("v:group");a.setAttribute("class",h);a.setAttribute("coordsize",c+" "+b);a.setAttribute("aria-hidden","true");a.style.cssText="width: "+c+"px; height:"+b+"px";var d=document.createElement("v:rect");var f={"width":c+"px","height":b+"px"};Nwagon_ie.setStyles(d,f);d.setAttribute("stroked","true");a.appendChild(d);e.appendChild(a);return a},createTooltip:function(b){var a=document.createElement("div");var c=document.createTextNode("");a.appendChild(c);b.appendChild(a);return a},showToolTip:function(d,b,a,c){return function(){d.style.cssText="display: block; padding: 0 5px 0 5px; background-color:#f9f9f9; border: 1px solid #666; position:absolute; z-index:100";d.lastChild.nodeValue=c;d.style.left=b+"px";d.style.top=(a-15)+"px";d.style.fontSize="12px"}},hideToolTip:function(a){return function(){a.style.cssText="display: none"}},drawWedges:function(e,c,b,d,j,l,f){var i=document.createElement("v:shape");var h=Math.round(j*65535);var g=-Math.round(l*65536);var k="M "+e+" "+c+" AE "+e+" "+c+" "+b+" "+b+" "+h+" "+g+" X E";attributes={"path":k,"fillcolor":d,"strokecolor":"#FFFFFF","strokeweight":"0px"};Nwagon_ie.setAttributes(i,attributes);Nwagon_ie.setStyles(i,f);return i},drawFields_for_circular_type_chart:function(k,a,d,j){var m={};if(k.length){var e=5,c=10;var n=document.createElement("div");m={"width":Math.round(j/2)+"px","height":Math.round(j*(2/3))+"px","left":j+"px","top":"70px","position":"absolute"};Nwagon_ie.setStyles(n,m);n.className="fields_area";d.appendChild(n);var f={};for(var g=0;g<k.length;g++){var l=document.createElement("v:rect");m={"width":"20px","height":"15px","left":"5px","top":(c+g*30)+"px"};Nwagon_ie.setStyles(l,m);f={"fillcolor":a[g],"strokecolor":"#FFFFFF","strokeweight":"1px"};Nwagon_ie.setAttributes(l,f);n.appendChild(l);var b=document.createElement("div");b.appendChild(document.createTextNode(k[g]));m={"position":"absolute","left":(e+30)+"px","top":(c+30*g)+"px","fontSize":"12px"};Nwagon_ie.setStyles(b,m);n.appendChild(b)}}},column:{drawColumnChart:function(e){var b=e.width,j=e.height;var c=Nwagon_ie.createChartArea(e.chart_div,b,j);var i=e.dataset["values"];var d=e.hasOwnProperty("leftOffsetValue")?e.leftOffsetValue:50;var a=e.hasOwnProperty("bottomOffsetValue")?e.bottomOffsetValue:80;var h=e.highest?e.highest:Nwagon.getMax(i);var f=e.dataset["fields"];var g=((f&&(e.chartType!="column"))||(e.chartType=="column"&&e.dataset["colorset"].length==1));this.drawBackground(c,e.legend["names"],e.dataset,e.increment,h,b,j,d,a,g);this.drawColumnForeground(e.chart_div,c,e.legend,e.dataset,e.increment,h,b,j,d,a,e.chartType,g)},drawColumnForeground:function(N,l,H,P,F,s,a,g,j,f,z,Z){var S=H["names"];var q=S.length;var T=P["values"];var b=P["title"];var e=P["fields"];var L=Z?150:0;var x=Math.floor((a-j-L)/q);var p=0,o=0,Y=0,X=0,r=0;var B=(Math.ceil(s/F)+1)*F;var R=s/F;var h=Math.round((g-f)/(R+1));var V=h/F;var J=[];var G={},w={};var D=Nwagon_ie.createTooltip(l);var C="";var t=function(i,k,ab,c,ae,ad,ac){var aa=document.createElement("v:shape");Nwagon_ie.setAttributes(aa,i);w={"position":"absolute","width":k,"height":ab,"filter":"alpha(opacity=80)"};Nwagon_ie.setStyles(aa,w);aa.onmouseover=Nwagon_ie.showToolTip(ac,c,ae,ad);aa.onmouseout=Nwagon_ie.hideToolTip(ac);return aa};var M=function(af){var ac=document.getElementById(N).getElementsByTagName("ul")[0];if(ac){for(var ab in af){if(af.hasOwnProperty(ab)){var c=document.createElement("li");c.innerHTML=ab;var ae=document.createElement("ul");c.appendChild(ae);ac.appendChild(c);var ad=af[ab];for(var aa=0;aa<ad.length;aa++){var i=document.createElement("li");i.innerHTML=ad[aa];ae.appendChild(i)}}}}};if(z=="column"){var E=document.getElementById(N).getElementsByTagName("ul")[0];if(E){E.innerHTML=b}r=x*1/5;J=Nwagon.column.getColorSetforSingleColumnChart(s,T,P["colorset"]);for(var Q=0;Q<T.length;Q++){p=j+Math.round(x*(Q+0.2));o=Math.round(j+(x*(Q+1))-r);Y=g-f;X=g-f-Math.round(V*T[Q]);var K="M "+p+" "+Y+" L "+p+" "+X+" L "+o+" "+X+" L "+o+" "+Y+" X E";G={"path":K,"strokecolor":J[Q],"strokeweight":"1px","fillcolor":J[Q]};C=T[Q].toString();var U=t(G,l.style.width,l.style.height,p+5,X+h,C,D);l.appendChild(U);var A=document.createElement("li");A.innerHTML="Label "+S[Q]+", Value  "+T[Q];if(E){E.appendChild(A)}}}if(z=="multi_column"){J=P["colorset"];r=(3/5*x)/J.length;var y={};for(var O=0;O<e.length;O++){y[e[O]]=[]}for(var Q=0;Q<T.length;Q++){var d=T[Q];var m=j+Math.round(x*(Q+0.2));for(var O=0;O<d.length;O++){p=m+Math.round((O*(r)));o=m+Math.round((O+1)*r);Y=g-f;X=g-f-Math.round(V*d[O]);var K="M "+p+" "+Y+" L "+p+" "+X+" L "+o+" "+X+" L "+o+" "+Y+" X E";G={"path":K,"strokecolor":J[O],"strokeweight":"1px","fillcolor":J[O]};C=d[O].toString();var U=t(G,l.style.width,l.style.height,p+5,X+h,C,D);l.appendChild(U);y[e[O]].push("Label "+S[Q]+", Value  "+d[O])}}M(y)}if(z=="stacked_column"){J=P["colorset"];r=x*1/5;var y={};for(var O=0;O<e.length;O++){y[e[O]]=[]}for(var Q=0;Q<T.length;Q++){var d=T[Q];var W=g-f;var m=j+Math.round(x*(Q+0.2));for(var O=0;O<d.length;O++){p=j+Math.round(x*(Q+0.2));o=Math.round(j+(x*(Q+1))-r);Y=W;X=W-Math.round(V*d[O]);var K="M "+p+" "+Y+" L "+p+" "+X+" L "+o+" "+X+" L "+o+" "+Y+" X E";G={"path":K,"strokecolor":J[O],"strokeweight":"1px","fillcolor":J[O]};C=d[O].toString();var U=t(G,l.style.width,l.style.height,p+5,X+h,C,D);l.appendChild(U);y[e[O]].push("Label "+S[Q]+", Value  "+d[O]);W-=Math.round(V*d[O])}}M(y)}if((e&&(z!="column"))||(z=="column"&&P["colorset"].length==1)){for(var Q=0;Q<e.length;Q++){var v=a-L+30,u=30;var I=document.createElement("v:rect");w={"position":"absolute","width":"20px","height":"15px","top":(u+Q*30)+"px","left":v+"px"};Nwagon_ie.setStyles(I,w);G={"fillcolor":J[Q],"strokecolor":"#FFFFFF","strokeweight":"1px"};Nwagon_ie.setAttributes(I,G);l.appendChild(I);var n=document.createElement("div");n.appendChild(document.createTextNode(e[Q]));w={"position":"absolute","top":(u+30*Q)+"px","left":(v+30)+"px","fontSize":"12px"};Nwagon_ie.setStyles(n,w);l.appendChild(n)}}},drawBackground:function(f,s,n,F,C,y,v,g,k,b){var r=s.length;var p=Math.ceil(C/F);var D=0,j=0,G=0;if(b){var D=150}if(r){var G=Math.floor((y-g-D)/r)}var c=Math.round((v-k)/(p+1));var a=n["values"];var m={},E={};for(var B=0;B<=a.length;B++){var u=document.createElement("v:shape");var e=v-k;var x=v-k-(c*(p+1));var t=g+(G*B);var A="M "+t+" "+e+"L "+t+" "+x;m={"path":A,"strokecolor":"#CCC","strokeweight":"1px"};Nwagon_ie.setAttributes(u,m);E={"position":"absolute","width":f.style.width,"height":f.style.height};Nwagon_ie.setStyles(u,E);f.appendChild(u);if(B<a.length){var z=document.createElement("div");z.appendChild(document.createTextNode(s[B]));z.setAttribute("class","label_ie");E={"position":"absolute","left":(t+(G/4))+"px","top":(v-k+15)+"px","fontSize":"13px"};Nwagon_ie.setStyles(z,E);f.appendChild(z)}if(B==a.length){j=t}}var h=0;for(B=0;B<=p;B++){var o=document.createElement("v:shape");var q=v-k-(c*B);var w="M "+g+" "+q+"L "+j+" "+q;m={"path":w,"strokecolor":"#CCC","strokeweight":"1px"};Nwagon_ie.setAttributes(o,m);o.style.position="absolute";o.style.width=f.style.width;o.style.height=f.style.height;f.appendChild(o);var l=document.createElement("div");var d=(F*B).toString();l.setAttribute("class","label_ie");l.appendChild(document.createTextNode(d));E={"position":"absolute","right":(y-g+15)+"px","top":q-6+"px","fontSize":"13px"};Nwagon_ie.setStyles(l,E);f.appendChild(l)}}},line:{drawLineChart:function(g){var h=g.chartType;var f=false,j=false;var b=g.width,k=g.height;var c=Nwagon_ie.createChartArea(g.chart_div,b,k);var i=g.highest?g.highest:Nwagon.getMax(values);var e=g.lowest?g.lowest:0;var d=g.leftOffsetValue?g.leftOffsetValue:50;var a=g.bottomOffsetValue?g.bottomOffsetValue:80;f=(h=="area");j=(h=="jira");this.drawBackground(c,g.legend["names"],g.dataset,g.increment,i,e,b,k,d,a);this.drawLineForeground(g.chart_div,c,g.legend,g.dataset,g.increment,i,e,b,k,d,a,f,j)},drawVertex:function(a,d,c){var b=document.createElement("v:oval");b.setAttribute("fillcolor",c);b.setAttribute("strokecolor",c);b.setAttribute("strokeweight","1px");b.style.cssText="z-index:99; width:6px; height:6px";b.style.top=(d-3)+"px";b.style.left=(a-3)+"px";return b},drawJiraForeground:function(z,n,d,b,l){var v=function(J,I){var H={};var i;if((I[1]==J[1])){i=0}else{i=(I[1]-J[1])/(I[0]-J[0])}H["alpha"]=J[1]-(i*J[0]);H["slope"]=i;return H};var m=function(R,Q){if(R&&Q){var J,O,H,V,T;var U="";var N=0;while(N<R.length){if(R[N][1]<Q[N][1]){O=R;H=Q;J=n[0];break}if(R[N][1]>Q[N][1]){O=Q;H=R;J=n[1];break}N++}var M=0;while(M<O.length){V=Math.round(O[M][0]);var L=l-O[M][1];T=Math.round(l-L);if(M===0){U+="M "+V+" "+T}else{U+=" L "+V+" "+T}M++}var I=H.length-1;while(I>=0){V=Math.round(H[I][0]);var L=l-H[I][1];T=Math.round(l-L);U+=" L "+V+" "+T;I--}U+=" X E";var P=document.createElement("v:shape");var K={"path":U,"strokecolor":"#CCC","fillcolor":J};Nwagon_ie.setAttributes(P,K);var S={"position":"absolute","width":d.style.width,"height":d.style.height,"filter":"alpha(opacity=80)"};Nwagon_ie.setStyles(P,S);d.appendChild(P)}};var k=[];if(z.length==2){var p=n[0];var c=n[1];var x=z[0];var f=z[1];var y=[],h=[];if(x.length===f.length){var e=x.length;for(var A=0;A<e;A++){y.push(x[A]);h.push(f[A]);if((x[A][1]<f[A][1])){k.push(f[A])}else{k.push(x[A])}if(A!==e-1){if(!((x[A][1]>f[A][1])&&(x[A+1][1]>f[A+1][1]))&&!((x[A][1]<f[A][1])&&(x[A+1][1]<f[A+1][1]))&&!((x[A][1]==f[A][1])||(x[A+1][1]==f[A+1][1]))){var D=[];var C=v(x[A],x[A+1]);var B=v(f[A],f[A+1]);var t=C["slope"];var s=B["slope"];var w=C["alpha"];var u=B["alpha"];var r=(u-w)/(t-s);var q=(r*t)+w;D.push(r);D.push(q);k.push(D);y.push(D);y.push(D);h.push(D);h.push(D)}}}}}if(k.length){var G="";for(var A=0;A<k.length;A++){var r=Math.round(k[A][0]);var o=l-k[A][1];var q=Math.round(l-o);if(A===0){G+="M "+r+" "+q}else{G+=" L "+r+" "+q}}G+=" L "+k[k.length-1][0]+" "+l+" L "+b+" "+l+" X E";var a=document.createElement("v:shape");var j={"path":G,"strokecolor":"#CCC","fillcolor":"#FFF"};Nwagon_ie.setAttributes(a,j);var E={"position":"absolute","width":d.style.width,"height":d.style.height,"filter":"alpha(opacity=80)"};Nwagon_ie.setStyles(a,E);d.appendChild(a)}if(y.length===h.length){var A=0;while(A<y.length){if((y[A][1]==h[A][1])&&(A!=0)||(A==y.length-1)){var g=y.splice(A+1,y.length-1);var F=h.splice(A+1,h.length-1);m(y,h);y=g;h=F;A=0}A++}}},drawLineForeground:function(Y,j,R,aa,O,w,ae,a,d,g,c,o,M){var ad=R["names"];var V=aa["colorset"];var b=aa["fields"];var ag=aa["values"];var s=ag.length;var X=b?150:0;var D=Math.round((a-g-X)/s);var m=g,h=d-c;var ac=((w-ae)/O);var f=Math.round((d-c)/(ac+1));var af=f/O;var E=[],e=[];var H="";var U=ag[0];var I=Nwagon_ie.createTooltip(j);var B={};var p=[];for(var Z=0;Z<U.length;Z++){var J=document.getElementById(Y).getElementsByTagName("ul")[0];if(J){var v=document.createElement("li");v.innerHTML=b[Z];var G=document.createElement("ul");v.appendChild(G);J.appendChild(v)}var T=0;var C=0;var W="";var L="";var K=[];var Q=0,N=0;for(var ab=0;ab<ag.length;ab++){var l=[];Q=m+(D*ab);N=h-Math.round((ag[ab][Z]-0.5-ae)*af);if(isNaN(N)){C++}else{if(ab==C){W+="M "+Q+" "+N;T=N}else{W+="L "+Q+" "+N}l.push(Q);l.push(N);K.push(l);var u=this.drawVertex(Q,N,V[Z]);H=b?ad[ab]+"("+b[Z]+"): "+ag[ab][Z].toString():ad[ab]+": "+ag[ab][Z].toString();u.onmouseover=Nwagon_ie.showToolTip(I,Q,N,H);u.onmouseout=Nwagon_ie.hideToolTip(I);j.appendChild(u);if(G){var F=document.createElement("li");F.innerHTML="Label "+ad[ab]+",  Value "+ag[ab][Z].toString();G.appendChild(F)}}}E.push(W);if(o){L=W+"L "+Q+" "+h+" L "+m+" "+h+" L "+m+" "+N+" X E";e.push(L)}p.push(K)}for(var Z=0;Z<U.length;Z++){var n=document.createElement("v:shape");var P={"path":E[Z],"strokecolor":V[Z],"strokeweight":"2px"};Nwagon_ie.setAttributes(n,P);B={"position":"absolute","width":j.style.width,"height":j.style.height};Nwagon_ie.setStyles(n,B);var r=document.createElement("v:fill");r.setAttribute("on","false");n.appendChild(r);j.appendChild(n);if(o){var t=document.createElement("v:shape");P={"path":e[Z],"strokecolor":V[Z],"fillcolor":V[Z]};Nwagon_ie.setAttributes(t,P);B={"position":"absolute","width":j.style.width,"height":j.style.height,"filter":"alpha(opacity=80)"};Nwagon_ie.setStyles(t,B);j.appendChild(t)}if(b){var A=a-X+30,z=30;var S=document.createElement("v:rect");B={"position":"absolute","width":"20px","height":"15px","left":A+"px","top":(z+Z*30)+"px"};Nwagon_ie.setStyles(S,B);P={"fillcolor":V[Z],"strokecolor":"#FFFFFF","strokeweight":"1px"};Nwagon_ie.setAttributes(S,P);j.appendChild(S);var q=document.createElement("div");q.appendChild(document.createTextNode(b[Z]));B={"position":"absolute","left":(A+30)+"px","top":(z+30*Z)+"px","fontSize":"12px"};Nwagon_ie.setStyles(q,B);j.appendChild(q)}}if(M){Nwagon_ie.line.drawJiraForeground(p,V,j,g,d-c)}},drawBackground:function(e,t,n,I,F,B,A,w,f,k){var s=n["values"].length;var p=Math.ceil((F-B)/I);var G=0;var z=n["fields"];if(z){G=150}if(s){var J=Math.round((A-f-G)/s)}var b=Math.round((w-k)/(p+1));var a=n["values"];var r=(w-k)/100;var m={},H={};for(var E=0;E<a.length;E++){var v=document.createElement("v:shape");var d=w-k+5;var y=(E==0)?w-k-(b*(p+1)):w-k-5;var u=f+(J*E);var D="M "+u+" "+d+"L "+u+" "+y;m={"path":D,"strokecolor":"#CCC","strokeweight":"1px"};Nwagon_ie.setAttributes(v,m);H={"position":"absolute","width":e.style.width,"height":e.style.height};Nwagon_ie.setStyles(v,H);e.appendChild(v);var C=document.createElement("div");C.appendChild(document.createTextNode(t[E]));H={"position":"absolute","left":u+"px","top":(w-k+15)+"px","fontSize":"13px"};Nwagon_ie.setStyles(C,H);e.appendChild(C)}var h=0;var g=A-G+3;for(E=0;E<=p;E++){var o=document.createElement("v:shape");var q=w-k-(b*E);var x="M "+(f-3)+" "+q+"L "+g+" "+q;m={"path":x,"strokecolor":"#CCC","strokeweight":"1px"};Nwagon_ie.setAttributes(o,m);H={"position":"absolute","width":e.style.width,"height":e.style.height};Nwagon_ie.setStyles(o,H);var j=document.createElement("v:stroke");j.setAttribute("dashstyle","dash");o.appendChild(j);e.appendChild(o);var l=document.createElement("div");var c=((I*E)+B).toString();l.appendChild(document.createTextNode(c));H={"position":"absolute","right":(A-f+15)+"px","top":q-3+"px","fontSize":"13px"};Nwagon_ie.setStyles(l,H);e.appendChild(l)}}},polar:{drawPolarChart:function(f){var e=f.width,a=f.height;var b=f.dataset["values"];var c=Nwagon_ie.createChartArea(f.chart_div,e,a);var g={"angles":[],"percent":[],"values":[]};if(f.chartType=="polar_pie"){var d=f.dataset["degree_values"];if(d){g=Nwagon.getAngles(d,g)}}if(c&&f.legend["names"]&&f.dataset){this.drawBackground(c,g["angles"],f.chartType,f.legend["names"],f.dataset,f.increment,f.max,f.core_circle_radius,a);this.drawForeground(c,f.chart_div,g,f.chartType,f.legend,f.dataset,f.core_circle_radius,f.core_circle_value,f.max,a);if(f.dataset["fields"]){Nwagon_ie.drawFields_for_circular_type_chart(f.dataset["fields"],f.dataset["colorset"],c,a)}}},drawForeground:function(c,E,q,r,x,I,w,F,n,K){var v=document.getElementById(E).getElementsByTagName("ul")[0];var o=function(j){if(v){var h=document.createElement("li");h.innerHTML=j;v.appendChild(h)}};var l=Math.round(K/2),i=Math.round(K/2);var L=x["names"];var N=I["values"];var A=I["colorset"];var M=I["opacity"];var g=N.length;var e=90;var p={};var J=80;var P=Math.PI/2;if(g){var f=Math.round(360/g);var t=(Math.PI*2/g);var D="";for(var H=0;H<g;H++){if(q["angles"].length){f=q["angles"][H];t=(q["angles"][H]*Math.PI)/180}var C=N[H];var d=C.length;var z=f/d;var y=t/d;for(var G=0;G<d;G++){if(M.length){J=Nwagon.getOpacity(M,C[G],n)*100}p={"cssText":"position:absolute","width":c.style.width,"height":c.style.height,"filter":"alpha(opacity="+J+")"};var s=Nwagon_ie.drawWedges(l,i,C[G]+w,A[H],e,z,p);c.appendChild(s);e-=z;var u=P+(y/2);var b=n+w+20;var m=(l-5-Math.round(b*Math.cos(u)));var O=(K-5-i-Math.round((b)*Math.sin(u)));var B=document.createElement("div");B.appendChild(document.createTextNode(L[H][G]));p={"position":"absolute","left":m+"px","top":O+"px","fontSize":"13px"};Nwagon_ie.setStyles(B,p);c.appendChild(B);D=L[H][G]+"("+C[G]+")";P+=y;o(D)}}if(w>0){p={"cssText":"position:absolute","width":c.style.width,"height":c.style.height};var a=Nwagon_ie.drawWedges(l,i,w,"#FFFFFF",0,360,p);c.appendChild(a);var B=document.createElement("div");B.appendChild(document.createTextNode(F));p={"cssText":"position:absolute; z-index:100","left":l-(w/2)+"px","top":i-5+"px","fontSize":"12px"};Nwagon_ie.setStyles(B,p);c.appendChild(B)}}},drawBackground:function(e,w,u,b,p,F,f,y,B){var d=Math.round(B/2),c=Math.round(B/2);var G=p["values"];var A=G.length;var i=function(j){var h=Math.round(90*65535);var k=-Math.round((360)*65536);var I=document.createElement("v:shape");var H="AE "+d+" "+c+" "+j+" "+j+" "+h+" "+k+" X E";var r={"path":H,"fillcolor":"#FFFFFF","strokecolor":"#CCC","strokeweight":"1px"};Nwagon_ie.setAttributes(I,r);var J={"cssText":"position:absolute","width":e.style.width,"height":e.style.height};Nwagon_ie.setStyles(I,J);e.appendChild(I)};var s=f+y;while(s>y){i(s);var n=document.createElement("div");n.appendChild(document.createTextNode((s-y).toString()));style_attr={"cssText":"position:absolute; z-index:100","left":d+"px","top":(B-c-s-10)+"px","fontSize":"12px"};Nwagon_ie.setStyles(n,style_attr);e.appendChild(n);s-=F}var z=0,o=Math.PI/2;if(A){var C=(2*Math.PI)/A;for(var x=0;x<A;x++){if(w.length){z+=(w[x]*Math.PI)/180}else{z=C*x}var g=f+y;var q=document.createElement("v:shape");var t="M "+d+" "+c+"L "+(d-Math.round(g*Math.cos(z+o)))+" "+(B-c-Math.round((g)*Math.sin(z+o)));var m={"path":t,"strokecolor":"#CCC","strokeweight":"1px"};Nwagon_ie.setAttributes(q,m);style_attr={"position":"absolute","width":e.style.width,"height":e.style.height};Nwagon_ie.setStyles(q,style_attr);e.appendChild(q);var E=G[x];if(E){var l=E.length;for(var v=1;v<l;v++){var a=z+(C/l*v)+o;var D=document.createElement("v:shape");var t="M "+d+" "+c+"L "+(d-Math.round(g*Math.cos(a)))+" "+(B-c-Math.round((g)*Math.sin(a)));var m={"path":t,"strokecolor":"#CCC","strokeweight":"1px"};Nwagon_ie.setAttributes(D,m);style_attr={"position":"absolute","width":e.style.width,"height":e.style.height};Nwagon_ie.setStyles(D,style_attr);e.appendChild(D)}}}}}},donut:{drawDonutChart:function(e){var d=e.width,a=e.height;var b=Nwagon_ie.createChartArea(e.chart_div,d,a);var f={"angles":[],"percent":[],"values":[]};var c=e.dataset["values"];if(c){f=Nwagon.getAngles(c,f)}this.drawDonut(e.chart_div,f,e.chartType,b,e.dataset,e.core_circle_radius,e.donut_width,a);Nwagon_ie.drawFields_for_circular_type_chart(e.dataset["fields"],e.dataset["colorset"],b,a)},drawDonut:function(n,v,l,e,D,A,m,z){var f=m+A;var s=document.getElementById(n).getElementsByTagName("ul")[0];var q=function(i){if(s){var h=document.createElement("li");h.innerHTML=i;s.appendChild(h)}};var j=Nwagon_ie.createTooltip(e);var a=D["values"];var p=D["colorset"];var t=D["fields"];var g=v["angles"];var o={},B={};var C=90;var r="";var d=Math.round(z/2),b=Math.round(z/2);for(var y=0;y<g.length;y++){B={"cssText":"position:absolute","width":e.style.width,"height":e.style.height};var u=Nwagon_ie.drawWedges(d,b,f,p[y],C,g[y],B);e.appendChild(u);var E=(Math.PI*C)/180;var x=d+f*Math.cos(E);var w=b+f*Math.sin(E);var k=v["values"][y].toFixed(0);r=t[y]?(t[y]+"("+(v["percent"][y]*100).toFixed(1)+"%) "+k):"undefiend";u.onmouseover=Nwagon_ie.showToolTip(j,x,w,r);u.onmouseout=Nwagon_ie.hideToolTip(j);if(l=="donut"){B={"cssText":"position:absolute; z-index:50","width":e.style.width,"height":e.style.height};var c=Nwagon_ie.drawWedges(d,b,A,"#FFFFFF",C,g[y],B);e.appendChild(c)}C-=g[y]}}},radar:{drawRadarChart:function(d){var c=d.width,a=d.height;var b=Nwagon_ie.createChartArea(d.chart_div,c,a);this.drawBackground(b,d.legend["names"],d.dataset["bgColor"],CONST_DECREMENT,CONST_MAX_RADIUS,a,c);this.drawPolygonForeground(d.chart_div,b,d.legend,d.dataset,a,c)},drawBackground:function(k,z,A,y,m,E,u){var v=z.length;var i=A?A:"#F9F9F9";var g=Math.round(u/2),e=Math.round(E/2);var G=(Math.PI*2)/v,s=Math.PI;var D=0,r=0;var d=g+" "+e,c="",b="";var F={"position":"absolute","width":k.style.width,"height":k.style.height};var x={};var n=function(M,w,J,h){var j=document.createElement("v:shape");var L="M "+M+"L "+w;var I={"path":L,"strokecolor":"#666","strokeweight":"1px"};Nwagon_ie.setAttributes(j,I);Nwagon_ie.setStyles(j,J);if(h){var K=document.createElement("v:stroke");K.setAttribute("dashstyle","dash");j.appendChild(K)}return j};var t=function(w,h,I){var j=document.createElement("div");j.appendChild(document.createTextNode(w));Nwagon_ie.setStyles(j,{"cssText":"position:absolute; z-index:100","left":h+"px","top":(I-5)+"px","fontSize":"10px"});return j};for(var B=1;B<=v;B++){var o=0;var l=m;r=(G*(B-1))+s;D=(G*B)+s;var f=Math.round((m+20)*Math.cos(D));var C=Math.round((m+20)*Math.sin(D));c=(g-Math.round(m*Math.cos(D)))+" "+(E-e-Math.round((m)*Math.sin(D)));var q=n(d,c,F,false);k.appendChild(q);var p=document.createElement("div");if(B==v){p.appendChild(document.createTextNode(z[0]))}else{p.appendChild(document.createTextNode(z[B]))}x={"cssText":"position:absolute; z-index:100","fontSize":"12px"};Nwagon_ie.setStyles(p,x);k.appendChild(p);if(f>0){o=p.clientWidth}if(f==0){o=Math.round(p.clientWidth/2)}p.style.left=(g-f-o)+"px";p.style.top=(E-e-(C+5))+"px";while(l>0){if(B==1){var a=t(l.toString(),(g+l),(E-e));k.appendChild(a)}c=(g-Math.round(l*Math.cos(D)))+" "+(E-e-Math.round((l)*Math.sin(D)));b=(g-Math.round(l*Math.cos(r)))+" "+(E-e-Math.round((l)*Math.sin(r)));var H=n(c,b,F,true);k.appendChild(H);l-=y}}},dimmedPie:function(i,j,m,e,d,l,f){var k=0,c=0;var b=document.createElement("v:shape");k=(i==0)?j-1:i-1;c=(i==j)?0:i+1;var h="M "+e+" "+d+" L "+(e-Math.round(CONST_MAX_RADIUS*Math.cos((l*k)+f)))+" "+(m-d-Math.round((CONST_MAX_RADIUS)*Math.sin((l*k)+f)))+" L "+(e-Math.round(CONST_MAX_RADIUS*Math.cos((l*i)+f)))+" "+(m-d-Math.round((CONST_MAX_RADIUS)*Math.sin((l*i)+f)))+" L "+(e-Math.round(CONST_MAX_RADIUS*Math.cos((l*c)+f)))+" "+(m-d-Math.round((CONST_MAX_RADIUS)*Math.sin((l*c)+f)))+" X E";var g={"path":h,"strokecolor":"#000000","strokeweight":"1px","fillcolor":"#000000"};Nwagon_ie.setAttributes(b,g);return b},drawPolygonForeground:function(q,f,b,L,F,v){var K={"position":"absolute","width":f.style.width,"height":f.style.height,"filter":""};var e=Math.round(v/2),d=Math.round(F/2);var a=L["values"];var M=L["title"];var c=L["fgColor"]?L["fgColor"]:"#30A1CE";var o=(a.length==1);var A=b["names"];var j=0;var C="";var z=document.getElementById(q).getElementsByTagName("ul")[0];if(z){z.innerHTML=M}if(o){var m=Nwagon_ie.createTooltip(f)}for(var E=0;E<a.length;E++){if(z){var H=document.createElement("li");H.innerHTML="Data set number "+(E+1).toString();var y=document.createElement("ul");H.appendChild(y);z.appendChild(H)}var t=a[E];var g=t.length;var J=[];var I=(Math.PI*2)/g;var s=Math.PI,l=0;var B="";for(var D=0;D<t.length;D++){if(typeof(t[D])!="number"){j=0;var n=Nwagon_ie.radar.dimmedPie(D,t.length,F,e,d,I,s);K.filter="alpha(opacity=10)";Nwagon_ie.setStyles(n,K);f.appendChild(n)}else{j=t[D]}if(y){var x=document.createElement("li");x.innerHTML=A[D]+": "+t[D];y.appendChild(x)}l=(I*D)+s;if(D==0){B+="M "+(e-Math.round(j*Math.cos(l)))+" "+(F-d-Math.round((j)*Math.sin(l)))}else{B+=" L "+(e-Math.round(j*Math.cos(l)))+" "+(F-d-Math.round((j)*Math.sin(l)))}var G=Nwagon_ie.line.drawVertex(e-Math.round(j*Math.cos(l)),(F-d-Math.round((j)*Math.sin(l))),c);text_to_add=A[D]+": "+t[D];if(o){G.onmouseover=Nwagon_ie.showToolTip(m,e-Math.round(j*Math.cos(l)),(F-d-Math.round((j)*Math.sin(l))),text_to_add);G.onmouseout=Nwagon_ie.hideToolTip(m)}f.appendChild(G)}B+=" X E";var u=document.createElement("v:shape");var r={"path":B,"strokecolor":c,"strokeweight":"1px","fillcolor":c};Nwagon_ie.setAttributes(u,r);K.filter="alpha(opacity=80)";Nwagon_ie.setStyles(u,K);f.appendChild(u)}}}};